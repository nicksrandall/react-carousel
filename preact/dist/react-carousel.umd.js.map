{"version":3,"file":"react-carousel.umd.js","sources":["../../src/utils.js","../../src/carousel.js","../../src/index.js"],"sourcesContent":["export function noop() {}\n\n/**\n * Takes an argument and if it's an array, returns the first item in the array\n * otherwise returns the argument\n * @param {*} arg the maybe-array\n * @param {*} defaultValue the value if arg is falsey not defined\n * @return {*} the arg or it's first item\n */\nexport function unwrapArray(arg, defaultValue) {\n  arg = Array.isArray(arg) ? /* istanbul ignore next (preact) */ arg[0] : arg\n  if (!arg && defaultValue) {\n    return defaultValue\n  } else {\n    return arg\n  }\n}\n\n/**\n * This is intended to be used to compose event handlers\n * They are executed in order until one of them calls\n * `event.preventDefault()`. Not sure this is the best\n * way to do this, but it seems legit...\n * @param {Function} fns the event handler functions\n * @return {Function} the event handler to add to an element\n */\nexport function composeEventHandlers(...fns) {\n  return (event, ...args) =>\n    fns.some(fn => {\n      fn && fn(event, ...args)\n      // return event.defaultPrevented\n      return false\n    })\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport {unwrapArray, noop, composeEventHandlers} from './utils'\n\nclass Carousel extends React.Component {\n  static propTypes = {\n    children: PropTypes.func,\n    render: PropTypes.func,\n    animationDuration: PropTypes.number,\n    calculateWidth: PropTypes.func,\n    dynamicSizes: PropTypes.bool,\n    slideDuration: PropTypes.number,\n    slideCount: PropTypes.number.isRequired,\n    autoPlay: PropTypes.bool,\n  }\n  static defaultProps = {\n    animationDuration: 250,\n    slideDuration: 0,\n    calculateWidth: context => context._windowRef.offsetWidth,\n    dynamicSizes: false,\n    autoPlay: true,\n  }\n  constructor(props) {\n    super(props)\n    this.state = {\n      focused: true,\n      prevIndex: this.props.slideCount - 1,\n      currentIndex: 0,\n      nextIndex: 1,\n      finalPrevIndex: this.props.slideCount - 1,\n      finalCurrentIndex: 0,\n      finalNextIndex: 1,\n      windowWidth: 0,\n      trackWidth: 0,\n      dragOffset: 0,\n      transitionDirection: 1,\n    }\n    this.running = false\n  }\n  calculateSizes = () => {\n    this.setState({\n      windowWidth: this._windowRef.offsetWidth,\n      trackWidth: this._windowRef.offsetWidth * 3,\n    })\n  }\n  componentDidMount() {\n    this.calculateSizes()\n    window.addEventListener('resize', this.resize, false)\n    document.addEventListener(\n      'visibilitychange',\n      this.handleVisibilityChange,\n      false,\n    )\n    document.addEventListener('keydown', this.keydown, false)\n\n    if (this.props.autoPlay) {\n      this.play()\n    }\n  }\n  play = () => {\n    if (this.state.focused) {\n      this.timeout = setTimeout(() => {\n        this.goToSlide(this.nextIndex(this.state.currentIndex))\n      }, this.props.slideDuration)\n    }\n  }\n  pause = () => {\n    clearTimeout(this.timeout)\n  }\n  resize = () => {\n    if (this.running) {\n      return\n    }\n    this.running = true\n    window.requestAnimationFrame(() => {\n      this.calculateSizes()\n      this.running = false\n    })\n  }\n  handleVisibilityChange = () => {\n    this.setState({focused: !document.hidden}, () => {\n      document.hidden ? this.pause() : this.props.autoPlay && this.play()\n    })\n  }\n  keydown = e => {\n    if (e.keyCode === 37) {\n      // previous\n      this.goToSlide(this.prevIndex(this.state.currentIndex), true)\n    }\n    if (e.keyCode === 39) {\n      // next\n      this.goToSlide(this.nextIndex(this.state.currentIndex), true)\n    }\n  }\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.resize, false)\n    document.removeEventListener(\n      'visibilitychange',\n      this.handleVisibilityChange,\n      false,\n    )\n    document.removeEventListener('keydown', this.keydown, false)\n  }\n  commitUpdate = () => {\n    this.setState({\n      finalPrevIndex: this.state.prevIndex,\n      finalCurrentIndex: this.state.currentIndex,\n      finalNextIndex: this.state.nextIndex,\n    })\n  }\n  goToSlide = (index, jump = false) => {\n    this.pause()\n\n    let transitionDirection = 1\n    if (\n      index > this.state.currentIndex ||\n      (index === 0 && this.state.currentIndex === this.props.slideCount - 1)\n    ) {\n      transitionDirection = 2\n    } else if (\n      index < this.state.currentIndex ||\n      (this.state.currentIndex === 0 && index === this.props.slideCount - 1)\n    ) {\n      transitionDirection = 0\n    }\n\n    let animationMS =\n      Math.abs(\n        this.state.windowWidth +\n          this.state.dragOffset -\n          this.state.windowWidth * transitionDirection,\n      ) *\n      this.props.animationDuration /\n      this.state.windowWidth\n\n    if (this.props.animationDuration <= 0) {\n      this.commitUpdate()\n    }\n\n    let prevIndex = this.prevIndex(index)\n    let currentIndex = index\n    let nextIndex = this.nextIndex(index)\n\n    if (jump) {\n      switch (transitionDirection) {\n        case 0:\n          this.setState({finalPrevIndex: index})\n          break\n        case 2:\n          this.setState({finalNextIndex: index})\n          break\n      }\n    }\n\n    this.setState(\n      {\n        transitionDirection,\n        animationMS,\n        prevIndex,\n        currentIndex,\n        nextIndex,\n      },\n      () => {\n        if (this.props.autoPlay) {\n          this.play()\n        }\n      },\n    )\n  }\n  prevIndex = index => {\n    return index > 0 ? index - 1 : this.props.slideCount - 1\n  }\n  nextIndex = index => {\n    return index < this.props.slideCount - 1 ? index + 1 : 0\n  }\n  getRootProps = ({...rest} = {}) => {\n    return {\n      ...rest,\n    }\n  }\n  windowRef = node => (this._windowRef = node)\n  getWindowProps = ({refKey = 'ref', ...rest} = {}) => {\n    return {\n      [refKey]: this.windowRef,\n      ...rest,\n    }\n  }\n  trackRef = node => (this._trackRef = node)\n  track_handleTransitionEnd = () => {\n    this.commitUpdate()\n    this.setState({animationMS: 0, transitionDirection: 1})\n  }\n  getTrackProps = ({refKey = 'ref', onTransitionEnd, style, ...rest} = {}) => {\n    return {\n      [refKey]: this.trackRef,\n      style: {\n        ...style,\n        width: this.state.trackWidth,\n        transition:\n          this.state.animationMS > 0\n            ? `transform ${this.state.animationMS}ms`\n            : null,\n        transform: `translate3d(-${this.state.windowWidth *\n          this.state.transitionDirection +\n          this.state.dragOffset}px, 0px, 0px)`,\n      },\n      onTransitionEnd: composeEventHandlers(\n        onTransitionEnd,\n        this.track_handleTransitionEnd,\n      ),\n      ...rest,\n    }\n  }\n  slide_handleSwipeStart = e => {\n    const posX = e.touches !== undefined ? e.touches[0].pageX : e.clientX\n    this.setState({\n      dragging: true,\n      touchObject: {\n        startX: posX,\n        curX: posX,\n      },\n    })\n  }\n  slide_handleSwipeMove = e => {\n    const touchObject = this.state.touchObject\n    touchObject.curX = e.touches ? e.touches[0].pageX : e.clientX\n    let dragOffset =\n      Math.round(\n        Math.sqrt(Math.pow(touchObject.curX - touchObject.startX, 2)),\n      ) * (touchObject.curX > touchObject.startX ? -1 : 1)\n    this.setState({dragOffset, touchObject})\n  }\n  slide_handleSwipeEnd = () => {\n    if (this.state.dragOffset > 100) {\n      this.goToSlide(this.nextIndex(this.state.currentIndex))\n    } else if (this.state.dragOffset < -100) {\n      this.goToSlide(this.prevIndex(this.state.currentIndex))\n    }\n    this.setState({\n      dragging: false,\n      dragOffset: 0,\n      touchObject: {\n        startX: 0,\n        curX: 0,\n      },\n    })\n  }\n  getNextSlideProps = ({style, ...rest} = {}) => {\n    return {\n      key: this.state.finalNextIndex,\n      'data-index': this.state.finalNextIndex,\n      style: {\n        ...style,\n        width: this.state.windowWidth,\n      },\n      ...rest,\n    }\n  }\n  getCurrentSlideProps = ({\n    onMouseDown,\n    onMouseMove,\n    onMouseUp,\n    onMouseLeave,\n    style,\n    ...rest\n  } = {}) => {\n    return {\n      key: this.state.finalCurrentIndex,\n      'data-index': this.state.finalCurrentIndex,\n      onMouseDown: composeEventHandlers(\n        onMouseDown,\n        this.slide_handleSwipeStart,\n      ),\n      onMouseMove: composeEventHandlers(\n        onMouseMove,\n        this.state.dragging ? this.slide_handleSwipeMove : null,\n      ),\n      onMouseUp: composeEventHandlers(onMouseUp, this.slide_handleSwipeEnd),\n      onMouseLeave: composeEventHandlers(\n        onMouseLeave,\n        this.state.dragging ? this.slide_handleSwipeEnd : null,\n      ),\n      style: {\n        ...style,\n        width: this.state.windowWidth,\n      },\n      ...rest,\n    }\n  }\n  getPrevSlideProps = ({style, ...rest} = {}) => {\n    return {\n      key: this.state.finalPrevIndex,\n      'data-index': this.state.finalPrevIndex,\n      style: {\n        ...style,\n        width: this.state.windowWidth,\n      },\n      ...rest,\n    }\n  }\n  prevButton_handleClick = () => {\n    this.goToSlide(this.prevIndex(this.state.currentIndex))\n  }\n  getPrevButtonProps = ({onClick, ...rest} = {}) => {\n    return {\n      type: 'button',\n      'data-role': 'none',\n      onClick: composeEventHandlers(onClick, this.prevButton_handleClick),\n      ...rest,\n    }\n  }\n  nextButton_handleClick = () => {\n    this.goToSlide(this.nextIndex(this.state.currentIndex))\n  }\n  getNextButtonProps = ({onClick, ...rest} = {}) => {\n    return {\n      type: 'button',\n      'data-role': 'none',\n      onClick: composeEventHandlers(onClick, this.nextButton_handleClick),\n      ...rest,\n    }\n  }\n  getIndicatorListProps = ({...rest} = {}) => {\n    return {\n      ...rest,\n    }\n  }\n  indicator_makeHandleClick = idx => () => {\n    this.goToSlide(idx, true)\n  }\n  getIndicatorProps = ({onClick, index, ...rest} = {}) => {\n    return {\n      tabindex: index === this.state.currentIndex ? '-1' : null,\n      onClick: composeEventHandlers(\n        onClick,\n        this.indicator_makeHandleClick(index),\n      ),\n      ...rest,\n    }\n  }\n  getStateAndHelpers() {\n    const {\n      getRootProps,\n      getWindowProps,\n      getTrackProps,\n      getPrevSlideProps,\n      getCurrentSlideProps,\n      getNextSlideProps,\n      getPrevButtonProps,\n      getNextButtonProps,\n      getIndicatorListProps,\n      getIndicatorProps,\n\n      goToSlide,\n      nextIndex,\n      prevIndex,\n    } = this\n    return {\n      // props\n      getRootProps,\n      getWindowProps,\n      getTrackProps,\n      getPrevSlideProps,\n      getCurrentSlideProps,\n      getNextSlideProps,\n      getPrevButtonProps,\n      getNextButtonProps,\n      getIndicatorListProps,\n      getIndicatorProps,\n\n      // fnunctional helpers\n      goToSlide,\n      nextIndex,\n      prevIndex,\n\n      // state helpers\n      dragOffset: this.state.dragOffset,\n      slideCount: this.props.slideCount,\n      prevIndex: this.state.finalPrevIndex,\n      currentIndex: this.state.finalCurrentIndex,\n      nextIndex: this.state.finalNextIndex,\n    }\n  }\n  render() {\n    const children = unwrapArray(this.props.render || this.props.children, noop)\n    const element = unwrapArray(children(this.getStateAndHelpers()))\n    if (!element) {\n      return null\n    }\n    return element\n  }\n}\n\nexport default Carousel\n","import Carousel from './carousel'\n\nCarousel.default = Carousel\n\nexport default Carousel\n"],"names":["noop","unwrapArray","arg","defaultValue","Array","isArray","composeEventHandlers","fns","event","args","some","fn","Carousel","props","calculateSizes","setState","_windowRef","offsetWidth","play","state","focused","timeout","setTimeout","goToSlide","nextIndex","currentIndex","slideDuration","pause","resize","running","requestAnimationFrame","handleVisibilityChange","document","hidden","autoPlay","keydown","e","keyCode","prevIndex","commitUpdate","index","jump","transitionDirection","slideCount","animationMS","Math","abs","windowWidth","dragOffset","animationDuration","finalPrevIndex","finalNextIndex","getRootProps","rest","windowRef","node","getWindowProps","refKey","trackRef","_trackRef","track_handleTransitionEnd","getTrackProps","onTransitionEnd","style","trackWidth","slide_handleSwipeStart","posX","touches","undefined","pageX","clientX","slide_handleSwipeMove","touchObject","curX","round","sqrt","pow","startX","slide_handleSwipeEnd","getNextSlideProps","getCurrentSlideProps","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","finalCurrentIndex","dragging","getPrevSlideProps","prevButton_handleClick","getPrevButtonProps","onClick","nextButton_handleClick","getNextButtonProps","getIndicatorListProps","indicator_makeHandleClick","idx","getIndicatorProps","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","getStateAndHelpers","render","children","element","React","Component","defaultProps","context","default"],"mappings":"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"}